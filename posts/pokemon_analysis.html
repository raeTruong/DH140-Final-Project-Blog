<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rachel Truong">
<meta name="dcterms.date" content="2024-08-02">
<meta name="description" content="A blog post on analyzing stats and types for the best Pokémon to have while solo">

<title>PokéMetrics: Analyzing Stats and Type Effectiveness – title</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">title</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">PokéMetrics: Analyzing Stats and Type Effectiveness</h1>
                  <div>
        <div class="description">
          A blog post on analyzing stats and types for the best Pokémon to have while solo
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Rachel Truong </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 2, 2024</p>
      </div>
    </div>
    
      <div>
      <div class="quarto-title-meta-heading">Modified</div>
      <div class="quarto-title-meta-contents">
        <p class="date-modified">August 2, 2024</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="pokémetrics-analyzing-stats-and-type-effectiveness" class="level1">
<h1>PokéMetrics: Analyzing Stats and Type Effectiveness</h1>
<p>By Rachel Truong<br>
Published August 2, 2024</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>The Pokemon games are centered around battling others with a team of “pocket monsters,” hence the name of the franchise. With a predetermined set of stats and moves for each of their monster partners, players direct their Pokemon in battle and struggle against other Pokemon trainers to make their way to becoming the champion of the Pokemon world. These stats and decisions ultimately become the deciding factor in who emerges victorious. Thus, it is important for players to understand the stats and inner mechanics of the game. However, the game is a gem of childhood for many, and as children, many had simply played the game without paying much attention to stats and numbers. Of course, the game is designed well and can be played as such, but having played the game in that manner, I struggled. My Pokemon were okay, but were never strong enough for my liking. Of course, having played for so long, I eventually figured out through trial and error which Pokemon were stronger than others, but playing more and more, I find that I still struggle with picking better Pokemon to use.</p>
<section id="motivation" class="level3">
<h3 class="anchored" data-anchor-id="motivation">Motivation</h3>
<p>But now, equipped with time and data, I wanted to take the opportunity to do a data-driven approach towards analyzing the differences in strength between Pokémon through comparing their base stats. I’ve never done an in-depth analysis before, as I simply have just played the game and choosing Pokemon that I liked and thought would do the job. Just last week I was casually playing, but my pokemon kept dying on me right next to the entrance of the next town.</p>
</section>
<section id="data-description-and-source" class="level3">
<h3 class="anchored" data-anchor-id="data-description-and-source">Data Description and Source</h3>
<p>For this project, I will be using PokeAPI, an API linked to multiple databases detailing everything about the Pokémon main game series. I will be specifically be using data from these databases: | Dataset | Description | Link | |———|—————————————————————————————————–|————————————————| | Pokemon | Database of all pokemon that exist in the game, as well as their stats | <a href="https://pokeapi.co/docs/v2#pokemon">API Docs</a> | | Types | Database of the pokemon types, and anything that relates to them (type effectiveness, Pokemon, etc) | <a href="https://pokeapi.co/docs/v2#types">API Docs</a> |</p>
</section>
<section id="research-questions" class="level3">
<h3 class="anchored" data-anchor-id="research-questions">Research Questions</h3>
<ul>
<li>Which type combination are good to have?</li>
<li>Which Pokemon have the best stats?<br>
</li>
<li>What is the best Pokemon to carry on you when running into random Pokemon and enemy trainers?</li>
</ul>
</section>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<section id="library-imports" class="level3">
<h3 class="anchored" data-anchor-id="library-imports">Library Imports</h3>
<p>The following libraries that this project uses. If you are accessing this project through the binder, they should be already installed, otherwise you should run the following cell.</p>
<div id="6b218cc2" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-download" class="level3">
<h3 class="anchored" data-anchor-id="data-download">Data Download</h3>
<p>Because I am using an API designed to just give you the complete data about specific things in pokemon, I have to call the API multiple times: first to get the list of items, and then X amount of times to get each specific record/row. Once I get each record, I store it in their respective dataframe: <code>poke_df</code> for pokemon and <code>type_df</code> for types.</p>
<div id="69160a49" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to retrieve data from the API</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> retrieve_data(url):</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Getting the list of all Pokemon</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> requests.get(url)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    url_list <span class="op">=</span> response.json()[<span class="st">'results'</span>]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Getting the data for each item</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    details <span class="op">=</span> []</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> url <span class="kw">in</span> url_list:</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> requests.get(url[<span class="st">'url'</span>])</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        details.append(response.json())</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Converting data to DataFrame</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.DataFrame(details)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Getting the list of all Pokemon </span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>plist_url <span class="op">=</span> <span class="st">"https://pokeapi.co/api/v2/pokemon?limit=1302&amp;offset=0"</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>poke_df <span class="op">=</span> retrieve_data(plist_url)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Getting the list of all Pokemon types</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>tlist_url <span class="op">=</span> <span class="st">"https://pokeapi.co/api/v2/type?limit=21&amp;offset=0"</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>type_df <span class="op">=</span> retrieve_data(tlist_url)</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Saving the data to a csv file (for cache reasons)</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="co">poke_df.to_json('data/pokemon_data.json', orient='records', lines=True)</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="co">type_df.to_json('data/type_data.json', orient='records', lines=True)</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>"\n# Saving the data to a csv file (for cache reasons)\npoke_df.to_json('data/pokemon_data.json', orient='records', lines=True)\ntype_df.to_json('data/type_data.json', orient='records', lines=True)\n"</code></pre>
</div>
</div>
<p>At the end of the previous block, I previously downloaded the data frames I fetched (code is in comments). This is so in the future if the database is modified, someone else running this project can see what I got now. In order to run using that data, you can uncomment and run the following block.</p>
<div id="7162d6c2" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Loading the data from the csv file</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">poke_df = pd.read_json('data/pokemon_data.json', orient='records', lines=True)</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">type_df = pd.read_json('data/type_data.json', orient='records', lines=True)</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<pre><code>"\n# Loading the data from the csv file\npoke_df = pd.read_json('data/pokemon_data.json', orient='records', lines=True)\ntype_df = pd.read_json('data/type_data.json', orient='records', lines=True)\n"</code></pre>
</div>
</div>
</section>
<section id="data-processing" class="level3">
<h3 class="anchored" data-anchor-id="data-processing">Data Processing</h3>
<p>Once you download the data, it’s a good idea to check what the data you are working with looks like. I do so by using <code>.head()</code>.</p>
<div id="4bc10cd5" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>poke_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">abilities</th>
<th data-quarto-table-cell-role="th">base_experience</th>
<th data-quarto-table-cell-role="th">cries</th>
<th data-quarto-table-cell-role="th">forms</th>
<th data-quarto-table-cell-role="th">game_indices</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">held_items</th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">is_default</th>
<th data-quarto-table-cell-role="th">location_area_encounters</th>
<th data-quarto-table-cell-role="th">moves</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">order</th>
<th data-quarto-table-cell-role="th">past_abilities</th>
<th data-quarto-table-cell-role="th">past_types</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">sprites</th>
<th data-quarto-table-cell-role="th">stats</th>
<th data-quarto-table-cell-role="th">types</th>
<th data-quarto-table-cell-role="th">weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>[{'ability': {'name': 'overgrow', 'url': 'http...</td>
<td>64.0</td>
<td>{'latest': 'https://raw.githubusercontent.com/...</td>
<td>[{'name': 'bulbasaur', 'url': 'https://pokeapi...</td>
<td>[{'game_index': 153, 'version': {'name': 'red'...</td>
<td>7</td>
<td>[]</td>
<td>1</td>
<td>True</td>
<td>https://pokeapi.co/api/v2/pokemon/1/encounters</td>
<td>[{'move': {'name': 'razor-wind', 'url': 'https...</td>
<td>bulbasaur</td>
<td>1</td>
<td>[]</td>
<td>[]</td>
<td>{'name': 'bulbasaur', 'url': 'https://pokeapi....</td>
<td>{'back_default': 'https://raw.githubuserconten...</td>
<td>[{'base_stat': 45, 'effort': 0, 'stat': {'name...</td>
<td>[{'slot': 1, 'type': {'name': 'grass', 'url': ...</td>
<td>69</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>[{'ability': {'name': 'overgrow', 'url': 'http...</td>
<td>142.0</td>
<td>{'latest': 'https://raw.githubusercontent.com/...</td>
<td>[{'name': 'ivysaur', 'url': 'https://pokeapi.c...</td>
<td>[{'game_index': 9, 'version': {'name': 'red', ...</td>
<td>10</td>
<td>[]</td>
<td>2</td>
<td>True</td>
<td>https://pokeapi.co/api/v2/pokemon/2/encounters</td>
<td>[{'move': {'name': 'swords-dance', 'url': 'htt...</td>
<td>ivysaur</td>
<td>2</td>
<td>[]</td>
<td>[]</td>
<td>{'name': 'ivysaur', 'url': 'https://pokeapi.co...</td>
<td>{'back_default': 'https://raw.githubuserconten...</td>
<td>[{'base_stat': 60, 'effort': 0, 'stat': {'name...</td>
<td>[{'slot': 1, 'type': {'name': 'grass', 'url': ...</td>
<td>130</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>[{'ability': {'name': 'overgrow', 'url': 'http...</td>
<td>263.0</td>
<td>{'latest': 'https://raw.githubusercontent.com/...</td>
<td>[{'name': 'venusaur', 'url': 'https://pokeapi....</td>
<td>[{'game_index': 154, 'version': {'name': 'red'...</td>
<td>20</td>
<td>[]</td>
<td>3</td>
<td>True</td>
<td>https://pokeapi.co/api/v2/pokemon/3/encounters</td>
<td>[{'move': {'name': 'swords-dance', 'url': 'htt...</td>
<td>venusaur</td>
<td>3</td>
<td>[]</td>
<td>[]</td>
<td>{'name': 'venusaur', 'url': 'https://pokeapi.c...</td>
<td>{'back_default': 'https://raw.githubuserconten...</td>
<td>[{'base_stat': 80, 'effort': 0, 'stat': {'name...</td>
<td>[{'slot': 1, 'type': {'name': 'grass', 'url': ...</td>
<td>1000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>[{'ability': {'name': 'blaze', 'url': 'https:/...</td>
<td>62.0</td>
<td>{'latest': 'https://raw.githubusercontent.com/...</td>
<td>[{'name': 'charmander', 'url': 'https://pokeap...</td>
<td>[{'game_index': 176, 'version': {'name': 'red'...</td>
<td>6</td>
<td>[]</td>
<td>4</td>
<td>True</td>
<td>https://pokeapi.co/api/v2/pokemon/4/encounters</td>
<td>[{'move': {'name': 'mega-punch', 'url': 'https...</td>
<td>charmander</td>
<td>5</td>
<td>[]</td>
<td>[]</td>
<td>{'name': 'charmander', 'url': 'https://pokeapi...</td>
<td>{'back_default': 'https://raw.githubuserconten...</td>
<td>[{'base_stat': 39, 'effort': 0, 'stat': {'name...</td>
<td>[{'slot': 1, 'type': {'name': 'fire', 'url': '...</td>
<td>85</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>[{'ability': {'name': 'blaze', 'url': 'https:/...</td>
<td>142.0</td>
<td>{'latest': 'https://raw.githubusercontent.com/...</td>
<td>[{'name': 'charmeleon', 'url': 'https://pokeap...</td>
<td>[{'game_index': 178, 'version': {'name': 'red'...</td>
<td>11</td>
<td>[]</td>
<td>5</td>
<td>True</td>
<td>https://pokeapi.co/api/v2/pokemon/5/encounters</td>
<td>[{'move': {'name': 'mega-punch', 'url': 'https...</td>
<td>charmeleon</td>
<td>6</td>
<td>[]</td>
<td>[]</td>
<td>{'name': 'charmeleon', 'url': 'https://pokeapi...</td>
<td>{'back_default': 'https://raw.githubuserconten...</td>
<td>[{'base_stat': 58, 'effort': 0, 'stat': {'name...</td>
<td>[{'slot': 1, 'type': {'name': 'fire', 'url': '...</td>
<td>190</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="a17e0fb9" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>type_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">damage_relations</th>
<th data-quarto-table-cell-role="th">game_indices</th>
<th data-quarto-table-cell-role="th">generation</th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">move_damage_class</th>
<th data-quarto-table-cell-role="th">moves</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">names</th>
<th data-quarto-table-cell-role="th">past_damage_relations</th>
<th data-quarto-table-cell-role="th">pokemon</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>{'double_damage_from': [{'name': 'fighting', '...</td>
<td>[{'game_index': 0, 'generation': {'name': 'gen...</td>
<td>{'name': 'generation-i', 'url': 'https://pokea...</td>
<td>1</td>
<td>{'name': 'physical', 'url': 'https://pokeapi.c...</td>
<td>[{'name': 'pound', 'url': 'https://pokeapi.co/...</td>
<td>normal</td>
<td>[{'language': {'name': 'ja-Hrkt', 'url': 'http...</td>
<td>[]</td>
<td>[{'pokemon': {'name': 'pidgey', 'url': 'https:...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>{'double_damage_from': [{'name': 'flying', 'ur...</td>
<td>[{'game_index': 1, 'generation': {'name': 'gen...</td>
<td>{'name': 'generation-i', 'url': 'https://pokea...</td>
<td>2</td>
<td>{'name': 'physical', 'url': 'https://pokeapi.c...</td>
<td>[{'name': 'karate-chop', 'url': 'https://pokea...</td>
<td>fighting</td>
<td>[{'language': {'name': 'ja-Hrkt', 'url': 'http...</td>
<td>[]</td>
<td>[{'pokemon': {'name': 'mankey', 'url': 'https:...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>{'double_damage_from': [{'name': 'rock', 'url'...</td>
<td>[{'game_index': 2, 'generation': {'name': 'gen...</td>
<td>{'name': 'generation-i', 'url': 'https://pokea...</td>
<td>3</td>
<td>{'name': 'physical', 'url': 'https://pokeapi.c...</td>
<td>[{'name': 'gust', 'url': 'https://pokeapi.co/a...</td>
<td>flying</td>
<td>[{'language': {'name': 'ja-Hrkt', 'url': 'http...</td>
<td>[]</td>
<td>[{'pokemon': {'name': 'charizard', 'url': 'htt...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>{'double_damage_from': [{'name': 'ground', 'ur...</td>
<td>[{'game_index': 3, 'generation': {'name': 'gen...</td>
<td>{'name': 'generation-i', 'url': 'https://pokea...</td>
<td>4</td>
<td>{'name': 'physical', 'url': 'https://pokeapi.c...</td>
<td>[{'name': 'poison-sting', 'url': 'https://poke...</td>
<td>poison</td>
<td>[{'language': {'name': 'ja-Hrkt', 'url': 'http...</td>
<td>[{'damage_relations': {'double_damage_from': [...</td>
<td>[{'pokemon': {'name': 'bulbasaur', 'url': 'htt...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>{'double_damage_from': [{'name': 'water', 'url...</td>
<td>[{'game_index': 4, 'generation': {'name': 'gen...</td>
<td>{'name': 'generation-i', 'url': 'https://pokea...</td>
<td>5</td>
<td>{'name': 'physical', 'url': 'https://pokeapi.c...</td>
<td>[{'name': 'sand-attack', 'url': 'https://pokea...</td>
<td>ground</td>
<td>[{'language': {'name': 'ja-Hrkt', 'url': 'http...</td>
<td>[]</td>
<td>[{'pokemon': {'name': 'sandshrew', 'url': 'htt...</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We can see that theres a lot of JSON data in there that isn’t very useful for analysis right off the bat. Because I only want data in specific columns (‘type’ and ‘stats’ in <code>poke_df</code> and ‘damage_relations’ in <code>type_df</code>), I’ll just process the data in those columns.</p>
<div id="73569bae" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Looking at what values in poke_df['types'] look like</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>poke_df[<span class="st">'types'</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<pre><code>[{'slot': 1,
  'type': {'name': 'grass', 'url': 'https://pokeapi.co/api/v2/type/12/'}},
 {'slot': 2,
  'type': {'name': 'poison', 'url': 'https://pokeapi.co/api/v2/type/4/'}}]</code></pre>
</div>
</div>
<p>For ‘types’ in <code>poke_df</code>, because we are just getting the values of all <code>type.name</code>, we just search for the values in the JSON and save it as a list. I chose not to do it as 2 columns as it would result in null values, which I think would make more work later for me when making data visualizations, so I just replaced the original value with the new list.</p>
<div id="9b95c5a8" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extra every type name into list for each Pokemon and replace the 'types' column</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>types_array <span class="op">=</span> []</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> val <span class="kw">in</span> poke_df[<span class="st">'types'</span>]:</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    types <span class="op">=</span> []</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> attr <span class="kw">in</span> val: </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        types.append(attr[<span class="st">'type'</span>][<span class="st">'name'</span>])</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    types_array.append(types)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>poke_df[<span class="st">'types'</span>] <span class="op">=</span> types_array</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>poke_df[<span class="st">'types'</span>].head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>0    [grass, poison]
1    [grass, poison]
2    [grass, poison]
3             [fire]
4             [fire]
Name: types, dtype: object</code></pre>
</div>
</div>
<div id="29d6afc0" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Looking at what values in poke_df['stats'] look like</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>poke_df[<span class="st">'stats'</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<pre><code>[{'base_stat': 45,
  'effort': 0,
  'stat': {'name': 'hp', 'url': 'https://pokeapi.co/api/v2/stat/1/'}},
 {'base_stat': 49,
  'effort': 0,
  'stat': {'name': 'attack', 'url': 'https://pokeapi.co/api/v2/stat/2/'}},
 {'base_stat': 49,
  'effort': 0,
  'stat': {'name': 'defense', 'url': 'https://pokeapi.co/api/v2/stat/3/'}},
 {'base_stat': 65,
  'effort': 1,
  'stat': {'name': 'special-attack',
   'url': 'https://pokeapi.co/api/v2/stat/4/'}},
 {'base_stat': 65,
  'effort': 0,
  'stat': {'name': 'special-defense',
   'url': 'https://pokeapi.co/api/v2/stat/5/'}},
 {'base_stat': 45,
  'effort': 0,
  'stat': {'name': 'speed', 'url': 'https://pokeapi.co/api/v2/stat/6/'}}]</code></pre>
</div>
</div>
<p>For ‘stats’ in <code>poke_df</code>, I wanted the name of the stat as well as its value (a int) so I just directly made a dictionary and set the key-value there as normal. Then I collected all the dictionaries into a list, turned the list into a data frame, and merged the new data frame with the original.</p>
<div id="f735c9b7" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the stat.name and base_stat into a list of dictionaries for each Pokemon</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Also while having all the stats for a row/Pokemon, calculate the total stats</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>stats_df <span class="op">=</span> []</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> val <span class="kw">in</span> poke_df[<span class="st">'stats'</span>]:</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> {}</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> attr <span class="kw">in</span> val:</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>        stats[attr[<span class="st">'stat'</span>][<span class="st">'name'</span>]] <span class="op">=</span> attr[<span class="st">'base_stat'</span>]</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    stats[<span class="st">"total"</span>] <span class="op">=</span> <span class="bu">sum</span>(stats.values())</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    stats_df.append(stats)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert stats into a Pandas dataframe and merge with the original df</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>stats_df <span class="op">=</span> pd.DataFrame(stats_df)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>poke_df <span class="op">=</span> pd.concat([poke_df, stats_df], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>poke_df[[<span class="st">'hp'</span>, <span class="st">'attack'</span>, <span class="st">'defense'</span>, <span class="st">'speed'</span>, <span class="st">'special-attack'</span>, <span class="st">'special-defense'</span>, <span class="st">'total'</span>]].head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">hp</th>
<th data-quarto-table-cell-role="th">attack</th>
<th data-quarto-table-cell-role="th">defense</th>
<th data-quarto-table-cell-role="th">speed</th>
<th data-quarto-table-cell-role="th">special-attack</th>
<th data-quarto-table-cell-role="th">special-defense</th>
<th data-quarto-table-cell-role="th">total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>45</td>
<td>49</td>
<td>49</td>
<td>45</td>
<td>65</td>
<td>65</td>
<td>318</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>60</td>
<td>62</td>
<td>63</td>
<td>60</td>
<td>80</td>
<td>80</td>
<td>405</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>80</td>
<td>82</td>
<td>83</td>
<td>80</td>
<td>100</td>
<td>100</td>
<td>525</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>39</td>
<td>52</td>
<td>43</td>
<td>65</td>
<td>60</td>
<td>50</td>
<td>309</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>58</td>
<td>64</td>
<td>58</td>
<td>80</td>
<td>80</td>
<td>65</td>
<td>405</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="fd9d306c" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># looking at what values in type_df['damage_relations'] look like</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>type_df[<span class="st">'damage_relations'</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>{'double_damage_from': [{'name': 'fighting',
   'url': 'https://pokeapi.co/api/v2/type/2/'}],
 'double_damage_to': [],
 'half_damage_from': [],
 'half_damage_to': [{'name': 'rock',
   'url': 'https://pokeapi.co/api/v2/type/6/'},
  {'name': 'steel', 'url': 'https://pokeapi.co/api/v2/type/9/'}],
 'no_damage_from': [{'name': 'ghost',
   'url': 'https://pokeapi.co/api/v2/type/8/'}],
 'no_damage_to': [{'name': 'ghost',
   'url': 'https://pokeapi.co/api/v2/type/8/'}]}</code></pre>
</div>
</div>
<p>For the damage relations in <code>type_df</code>, I wanted to extract out the name of the type of damage and keep it as the column name, and the values in the column to be a list of the corresponding relation, so I first made a dictionary, converted the values into a list, made the key-value pairs. Then I put all the dictionaries into a list, turned it into a data frame and merged it with the original one.</p>
<div id="94ce20f7" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get type names for set difference for normal damage</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>type_names <span class="op">=</span> type_df[<span class="st">'name'</span>].values</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># extract each damage relation + data into list of dicts for each type</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>dmg_df <span class="op">=</span> [] </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> val <span class="kw">in</span> type_df[<span class="st">'damage_relations'</span>]:</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    t_looked <span class="op">=</span> []                           <span class="co"># for keeping check which we have looked at </span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># looks at attributes for damage multiplier</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    damage <span class="op">=</span> {}</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> attr <span class="kw">in</span> val:     </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># extract the type names in damage multiplier data                   </span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>        type_list <span class="op">=</span> []</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> type_ <span class="kw">in</span> val[attr]:  </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>            type_list.append(type_[<span class="st">'name'</span>])</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> attr[<span class="op">-</span><span class="dv">2</span>:] <span class="op">==</span> <span class="st">'to'</span>:</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>                t_looked.append(type_[<span class="st">'name'</span>])</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>                <span class="co"># keep track of which types we have looked at in to </span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>                <span class="co"># no look at from because we dont need to double count</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>        damage[attr] <span class="op">=</span> type_list</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># added attr of normal damage and the values that should be in there</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>    damage[<span class="st">'normal_damage_to'</span>] <span class="op">=</span> <span class="bu">list</span>(<span class="bu">set</span>(type_names) <span class="op">-</span> <span class="bu">set</span>(t_looked))</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>    dmg_df.append(damage)</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert damage into a Pandas dataframe and merge with the original df</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>dmg_df <span class="op">=</span> pd.DataFrame(dmg_df)</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>type_df <span class="op">=</span> pd.concat([type_df, dmg_df], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>type_df[[<span class="st">'double_damage_from'</span>, <span class="st">'double_damage_to'</span>, <span class="st">'half_damage_from'</span>, <span class="st">'half_damage_to'</span>, <span class="st">'no_damage_from'</span>, <span class="st">'no_damage_to'</span>, <span class="st">'normal_damage_to'</span>]].head()</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>        </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">double_damage_from</th>
<th data-quarto-table-cell-role="th">double_damage_to</th>
<th data-quarto-table-cell-role="th">half_damage_from</th>
<th data-quarto-table-cell-role="th">half_damage_to</th>
<th data-quarto-table-cell-role="th">no_damage_from</th>
<th data-quarto-table-cell-role="th">no_damage_to</th>
<th data-quarto-table-cell-role="th">normal_damage_to</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>[fighting]</td>
<td>[]</td>
<td>[]</td>
<td>[rock, steel]</td>
<td>[ghost]</td>
<td>[ghost]</td>
<td>[poison, fairy, dragon, unknown, water, electr...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>[flying, psychic, fairy]</td>
<td>[normal, rock, steel, ice, dark]</td>
<td>[rock, bug, dark]</td>
<td>[flying, poison, bug, psychic, fairy]</td>
<td>[]</td>
<td>[ghost]</td>
<td>[electric, shadow, fighting, fire, dragon, gro...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>[rock, electric, ice]</td>
<td>[fighting, bug, grass]</td>
<td>[fighting, bug, grass]</td>
<td>[rock, steel, electric]</td>
<td>[ground]</td>
<td>[]</td>
<td>[shadow, poison, fairy, normal, dark, psychic,...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>[ground, psychic]</td>
<td>[grass, fairy]</td>
<td>[fighting, poison, bug, grass, fairy]</td>
<td>[poison, ground, rock, ghost]</td>
<td>[]</td>
<td>[steel]</td>
<td>[electric, shadow, normal, dark, bug, psychic,...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>[water, grass, ice]</td>
<td>[poison, rock, steel, fire, electric]</td>
<td>[poison, rock]</td>
<td>[bug, grass]</td>
<td>[electric]</td>
<td>[flying]</td>
<td>[shadow, fairy, normal, dark, psychic, ice, dr...</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="data-cleaning" class="level3">
<h3 class="anchored" data-anchor-id="data-cleaning">Data Cleaning</h3>
<p>Now that we have process all the necessary data, we can drop all the other columns that are unnecessary.</p>
<div id="bab566b5" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>poke_df <span class="op">=</span> poke_df[[<span class="st">'name'</span>, <span class="st">'types'</span>, <span class="st">'hp'</span>, <span class="st">'attack'</span>, <span class="st">'defense'</span>, <span class="st">'speed'</span>, <span class="st">'special-attack'</span>, <span class="st">'special-defense'</span>, <span class="st">'total'</span>]]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>poke_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">types</th>
<th data-quarto-table-cell-role="th">hp</th>
<th data-quarto-table-cell-role="th">attack</th>
<th data-quarto-table-cell-role="th">defense</th>
<th data-quarto-table-cell-role="th">speed</th>
<th data-quarto-table-cell-role="th">special-attack</th>
<th data-quarto-table-cell-role="th">special-defense</th>
<th data-quarto-table-cell-role="th">total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>bulbasaur</td>
<td>[grass, poison]</td>
<td>45</td>
<td>49</td>
<td>49</td>
<td>45</td>
<td>65</td>
<td>65</td>
<td>318</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>ivysaur</td>
<td>[grass, poison]</td>
<td>60</td>
<td>62</td>
<td>63</td>
<td>60</td>
<td>80</td>
<td>80</td>
<td>405</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>venusaur</td>
<td>[grass, poison]</td>
<td>80</td>
<td>82</td>
<td>83</td>
<td>80</td>
<td>100</td>
<td>100</td>
<td>525</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>charmander</td>
<td>[fire]</td>
<td>39</td>
<td>52</td>
<td>43</td>
<td>65</td>
<td>60</td>
<td>50</td>
<td>309</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>charmeleon</td>
<td>[fire]</td>
<td>58</td>
<td>64</td>
<td>58</td>
<td>80</td>
<td>80</td>
<td>65</td>
<td>405</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="90760abe" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>type_df <span class="op">=</span> type_df[[<span class="st">'name'</span>, <span class="st">'double_damage_to'</span>, <span class="st">'normal_damage_to'</span>, <span class="st">'half_damage_to'</span>, <span class="st">'no_damage_to'</span>]]</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>type_df.head() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">double_damage_to</th>
<th data-quarto-table-cell-role="th">normal_damage_to</th>
<th data-quarto-table-cell-role="th">half_damage_to</th>
<th data-quarto-table-cell-role="th">no_damage_to</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>normal</td>
<td>[]</td>
<td>[poison, fairy, dragon, unknown, water, electr...</td>
<td>[rock, steel]</td>
<td>[ghost]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>fighting</td>
<td>[normal, rock, steel, ice, dark]</td>
<td>[electric, shadow, fighting, fire, dragon, gro...</td>
<td>[flying, poison, bug, psychic, fairy]</td>
<td>[ghost]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>flying</td>
<td>[fighting, bug, grass]</td>
<td>[shadow, poison, fairy, normal, dark, psychic,...</td>
<td>[rock, steel, electric]</td>
<td>[]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>poison</td>
<td>[grass, fairy]</td>
<td>[electric, shadow, normal, dark, bug, psychic,...</td>
<td>[poison, ground, rock, ghost]</td>
<td>[steel]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>ground</td>
<td>[poison, rock, steel, fire, electric]</td>
<td>[shadow, fairy, normal, dark, psychic, ice, dr...</td>
<td>[bug, grass]</td>
<td>[flying]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>As a precaution, we should check and remove any rows that are missing data (NA, NaN, null).</p>
<div id="646b4f93" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>poke_df.isnull().<span class="bu">sum</span>()</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># no need to call dropna() as there are no nulls</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<pre><code>name               0
types              0
hp                 0
attack             0
defense            0
speed              0
special-attack     0
special-defense    0
total              0
dtype: int64</code></pre>
</div>
</div>
<div id="dba2674d" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>type_df.isnull().<span class="bu">sum</span>()</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># also no need to call dropna()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<pre><code>name                0
double_damage_to    0
normal_damage_to    0
half_damage_to      0
no_damage_to        0
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="understanding-the-data" class="level3">
<h3 class="anchored" data-anchor-id="understanding-the-data">Understanding the Data</h3>
<section id="general-stats" class="level4">
<h4 class="anchored" data-anchor-id="general-stats">General Stats</h4>
<p>To get a quick overview of the the data, I ran both <code>.info()</code> and <code>.describe()</code> on the data frames.</p>
<div id="4b49c411" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>poke_df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1302 entries, 0 to 1301
Data columns (total 9 columns):
 #   Column           Non-Null Count  Dtype 
---  ------           --------------  ----- 
 0   name             1302 non-null   object
 1   types            1302 non-null   object
 2   hp               1302 non-null   int64 
 3   attack           1302 non-null   int64 
 4   defense          1302 non-null   int64 
 5   speed            1302 non-null   int64 
 6   special-attack   1302 non-null   int64 
 7   special-defense  1302 non-null   int64 
 8   total            1302 non-null   int64 
dtypes: int64(7), object(2)
memory usage: 91.7+ KB</code></pre>
</div>
</div>
<div id="67990061" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>poke_df.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">hp</th>
<th data-quarto-table-cell-role="th">attack</th>
<th data-quarto-table-cell-role="th">defense</th>
<th data-quarto-table-cell-role="th">speed</th>
<th data-quarto-table-cell-role="th">special-attack</th>
<th data-quarto-table-cell-role="th">special-defense</th>
<th data-quarto-table-cell-role="th">total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>1302.000000</td>
<td>1302.000000</td>
<td>1302.000000</td>
<td>1302.000000</td>
<td>1302.000000</td>
<td>1302.000000</td>
<td>1302.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>71.264977</td>
<td>81.580645</td>
<td>75.241935</td>
<td>71.156682</td>
<td>73.649002</td>
<td>72.966974</td>
<td>445.860215</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>26.764202</td>
<td>31.673015</td>
<td>30.492559</td>
<td>30.310259</td>
<td>32.469611</td>
<td>27.358069</td>
<td>119.865940</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>1.000000</td>
<td>5.000000</td>
<td>5.000000</td>
<td>5.000000</td>
<td>10.000000</td>
<td>20.000000</td>
<td>175.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>54.000000</td>
<td>58.000000</td>
<td>53.000000</td>
<td>48.000000</td>
<td>50.000000</td>
<td>52.000000</td>
<td>335.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>70.000000</td>
<td>80.000000</td>
<td>70.000000</td>
<td>70.000000</td>
<td>65.000000</td>
<td>70.000000</td>
<td>470.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>85.000000</td>
<td>100.000000</td>
<td>95.000000</td>
<td>92.000000</td>
<td>95.000000</td>
<td>90.000000</td>
<td>525.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>255.000000</td>
<td>190.000000</td>
<td>250.000000</td>
<td>200.000000</td>
<td>194.000000</td>
<td>250.000000</td>
<td>1125.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Looking at the Pokemon Data, there seems to be outliers towards the maximum, as they seem to have a standard distribution way higher than the rest. This is expected, as I believe that the points at the further end are probably some legendary Pokemon, which tends to be stronger because they tend to represent the “gods” of the Pokemon world.</p>
</section>
<section id="distribution-by-pokemon-stats" class="level4">
<h4 class="anchored" data-anchor-id="distribution-by-pokemon-stats">Distribution By Pokemon Stats</h4>
<p>In order to get a more in depth view of Pokemon stats, I decided to draw up all the distribution of each of the individual stats.</p>
<div id="2be68095" class="cell" data-execution_count="82">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create 3x3 grid of subplots</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>fig, axs <span class="op">=</span> plt.subplots(<span class="dv">3</span>, <span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">15</span>)) </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>fig.suptitle(<span class="st">'Pokemon Stats Distributions'</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Histogram of HP</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>, <span class="dv">0</span>].hist(poke_df[<span class="st">'hp'</span>], color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>, <span class="dv">0</span>].set_title(<span class="st">'HP Distribution'</span>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>, <span class="dv">0</span>].set_xlabel(<span class="st">'HP'</span>)</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>, <span class="dv">0</span>].set_ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 2: Histogram of Attack</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>, <span class="dv">1</span>].hist(poke_df[<span class="st">'attack'</span>], color<span class="op">=</span><span class="st">'green'</span>)</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>, <span class="dv">1</span>].set_title(<span class="st">'Attack Distribution'</span>)</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>, <span class="dv">1</span>].set_xlabel(<span class="st">'Attack'</span>)</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>, <span class="dv">1</span>].set_ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 3: Histogram of Defense</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>, <span class="dv">2</span>].hist(poke_df[<span class="st">'defense'</span>], color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>, <span class="dv">2</span>].set_title(<span class="st">'Defense Distribution'</span>)</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>, <span class="dv">2</span>].set_xlabel(<span class="st">'Defense'</span>)</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>, <span class="dv">2</span>].set_ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 4: Histogram of Speed</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>, <span class="dv">0</span>].hist(poke_df[<span class="st">'speed'</span>], color<span class="op">=</span><span class="st">'purple'</span>)</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>, <span class="dv">0</span>].set_title(<span class="st">'Speed Distribution'</span>)</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>, <span class="dv">0</span>].set_xlabel(<span class="st">'Speed'</span>)</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>, <span class="dv">0</span>].set_ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 5: Histogram of Special Attack</span></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>, <span class="dv">1</span>].hist(poke_df[<span class="st">'special-attack'</span>], color<span class="op">=</span><span class="st">'orange'</span>)</span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>, <span class="dv">1</span>].set_title(<span class="st">'Special Attack Distribution'</span>)</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>, <span class="dv">1</span>].set_xlabel(<span class="st">'Special Attack'</span>)</span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>, <span class="dv">1</span>].set_ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 6: Histogram of Special Defense</span></span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>, <span class="dv">2</span>].hist(poke_df[<span class="st">'special-defense'</span>], color<span class="op">=</span><span class="st">'brown'</span>)</span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>, <span class="dv">2</span>].set_title(<span class="st">'Special Defense Distribution'</span>)</span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>, <span class="dv">2</span>].set_xlabel(<span class="st">'Special Defense'</span>)</span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>, <span class="dv">2</span>].set_ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 7: Histogram of Total Stats</span></span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">2</span>, <span class="dv">1</span>].hist(poke_df[<span class="st">'total'</span>], color<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">2</span>, <span class="dv">1</span>].set_title(<span class="st">'Total Stats Distribution'</span>)</span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">2</span>, <span class="dv">1</span>].set_xlabel(<span class="st">'Total Stats'</span>)</span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">2</span>, <span class="dv">1</span>].set_ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-47"><a href="#cb27-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust layout to prevent overlap and show plots</span></span>
<span id="cb27-48"><a href="#cb27-48" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb27-49"><a href="#cb27-49" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="pokemon_analysis_files/figure-html/cell-19-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>As you can see, a lot of of the stats seem to be skewed a little bit to the left. In addition, there are multiple plots with 2 peaks, suggesting that there are possible 2 subgroups of pokemon in here.</p>
</section>
<section id="pokemon-type-chart" class="level4">
<h4 class="anchored" data-anchor-id="pokemon-type-chart">Pokemon Type Chart</h4>
<p>I decided to make heatmap of the effectiveness of each pokemon to see where possibly there might be a good indicator of which type matchup would be best. In order to make it, I made a <code>n x n</code> data frame based on how much damage an attacking type (row) would do against a defending type(column). As for the value in each cell, I set as the scale that an attack would change based on the type effectiveness that the attacker would deal.</p>
<div id="808c79c3" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize an empty DataFrame with attackers as rows and defenders as columns</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>atk_x_def <span class="op">=</span> pd.DataFrame(<span class="fl">0.0</span>, index<span class="op">=</span>type_names, columns<span class="op">=</span>type_names)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fill in df based on relations in type_df</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> type_df.iterrows():</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col <span class="kw">in</span> type_names:        </span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> col <span class="kw">in</span> row[<span class="dv">1</span>][<span class="st">'double_damage_to'</span>]:</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>            atk_x_def.loc[row[<span class="dv">1</span>][<span class="st">'name'</span>], col] <span class="op">=</span> <span class="fl">2.0</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> col <span class="kw">in</span> row[<span class="dv">1</span>][<span class="st">'half_damage_to'</span>]:</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>            atk_x_def.loc[row[<span class="dv">1</span>][<span class="st">'name'</span>], col] <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> col <span class="kw">in</span> row[<span class="dv">1</span>][<span class="st">'no_damage_to'</span>]:</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>            atk_x_def.loc[row[<span class="dv">1</span>][<span class="st">'name'</span>], col] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>            atk_x_def.loc[row[<span class="dv">1</span>][<span class="st">'name'</span>], col] <span class="op">=</span> <span class="fl">1.0</span>       </span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the resulting DataFrame</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>atk_x_def</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="55">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">normal</th>
<th data-quarto-table-cell-role="th">fighting</th>
<th data-quarto-table-cell-role="th">flying</th>
<th data-quarto-table-cell-role="th">poison</th>
<th data-quarto-table-cell-role="th">ground</th>
<th data-quarto-table-cell-role="th">rock</th>
<th data-quarto-table-cell-role="th">bug</th>
<th data-quarto-table-cell-role="th">ghost</th>
<th data-quarto-table-cell-role="th">steel</th>
<th data-quarto-table-cell-role="th">fire</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">grass</th>
<th data-quarto-table-cell-role="th">electric</th>
<th data-quarto-table-cell-role="th">psychic</th>
<th data-quarto-table-cell-role="th">ice</th>
<th data-quarto-table-cell-role="th">dragon</th>
<th data-quarto-table-cell-role="th">dark</th>
<th data-quarto-table-cell-role="th">fairy</th>
<th data-quarto-table-cell-role="th">stellar</th>
<th data-quarto-table-cell-role="th">unknown</th>
<th data-quarto-table-cell-role="th">shadow</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">normal</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>0.0</td>
<td>0.5</td>
<td>1.0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">fighting</td>
<td>2.0</td>
<td>1.0</td>
<td>0.5</td>
<td>0.5</td>
<td>1.0</td>
<td>2.0</td>
<td>0.5</td>
<td>0.0</td>
<td>2.0</td>
<td>1.0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>2.0</td>
<td>1.0</td>
<td>2.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">flying</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>2.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>...</td>
<td>2.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">poison</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>0.5</td>
<td>0.5</td>
<td>1.0</td>
<td>0.5</td>
<td>0.0</td>
<td>1.0</td>
<td>...</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ground</td>
<td>1.0</td>
<td>1.0</td>
<td>0.0</td>
<td>2.0</td>
<td>1.0</td>
<td>2.0</td>
<td>0.5</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
<td>...</td>
<td>0.5</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">rock</td>
<td>1.0</td>
<td>0.5</td>
<td>2.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>0.5</td>
<td>2.0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">bug</td>
<td>1.0</td>
<td>0.5</td>
<td>0.5</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>0.5</td>
<td>0.5</td>
<td>...</td>
<td>2.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ghost</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">steel</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>0.5</td>
<td>...</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">fire</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>2.0</td>
<td>1.0</td>
<td>2.0</td>
<td>0.5</td>
<td>...</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">water</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>...</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">grass</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>0.5</td>
<td>2.0</td>
<td>2.0</td>
<td>0.5</td>
<td>1.0</td>
<td>0.5</td>
<td>0.5</td>
<td>...</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">electric</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>...</td>
<td>0.5</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">psychic</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ice</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>0.5</td>
<td>...</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">dragon</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">dark</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">fairy</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>0.5</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">stellar</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">unknown</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">shadow</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
</tbody>
</table>

<p>21 rows × 21 columns</p>
</div>
</div>
</div>
<p>Once my data frame was made, using the <code>seaborn</code> package, I plotted the heatmap using the coolwarm to show a clear color difference from when it doing more damage verse less, with white being no change.</p>
<div id="e6ad780b" class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">10</span>))</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>sns.heatmap(atk_x_def, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">'coolwarm'</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Damage Multiplier Heatmap'</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Attacker Type'</span>)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Defender Type'</span>)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="pokemon_analysis_files/figure-html/cell-21-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Using this graph, it makes it easier to identify the weakness nad strengths of a pokemon, however you can’t really identify any clear patterns as to which is clearly the superior type. (This is relevant)</p>
</section>
</section>
</section>
<section id="analysis-results" class="level2">
<h2 class="anchored" data-anchor-id="analysis-results">Analysis &amp; Results</h2>
<section id="based-on-typing" class="level3">
<h3 class="anchored" data-anchor-id="based-on-typing">Based on Typing</h3>
<p>In order to make analyzing typings easier, I’m going to say that the overall effectiveness score is a sum of all the individual scores for each type. The more effective a type will be, the higher the score. I can think of 2 ways to compute the score.</p>
<p>The first way is to measure how effective a Pokemon’s moves would be against any other type. To calculate each individual score, I determined that choosing the more effective type of the Pokemon were against any other type. I decided to find the max because in the games, a Pokemon move can only be one type.</p>
<div id="c231d1b5" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Score for effectiveness of their attacks</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Higher score, the better the attack</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>atker <span class="op">=</span> []</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> pokemon <span class="kw">in</span> poke_df.iterrows():</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    scores <span class="op">=</span> []</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> type_ <span class="kw">in</span> pokemon[<span class="dv">1</span>][<span class="st">'types'</span>]:                       <span class="co"># calculate a score for each type</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>        scores.append(atk_x_def.loc[type_].<span class="bu">sum</span>())</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    atker.append((pokemon[<span class="dv">1</span>][<span class="st">'name'</span>], <span class="bu">max</span>(scores)))         <span class="co"># max because attacks are one type</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The other way is to measure how much damage the Pokemon can resist when they are attacked by a specific type of move. I calculated this using the product of the scores that the attacking type would deal based on the defending Pokemon’s typing, just like in game.</p>
<div id="e44ca2de" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Score based on the effectiveness of their defenses</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Lower score, the better the defense</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>defer <span class="op">=</span> []</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> pokemon <span class="kw">in</span> poke_df.iterrows():</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    scores <span class="op">=</span> []</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> type_ <span class="kw">in</span> type_names:                                <span class="co"># calculate a score for each type</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>        score <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> p_type <span class="kw">in</span> pokemon[<span class="dv">1</span>][<span class="st">'types'</span>]:                  <span class="co"># calculate type score against each type</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>            score <span class="op">*=</span> atk_x_def.loc[type_, p_type]           <span class="co"># multiply the scores because types can cancel each out</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>        scores.append(score)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    total_score <span class="op">=</span> <span class="bu">len</span>(type_names)<span class="op">**</span><span class="dv">2</span><span class="op">/</span><span class="bu">sum</span>(scores) <span class="co"># sum because defenses against multiple types, divides total type to reverse from lowest good to highest good</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    defer.append((pokemon[<span class="dv">1</span>][<span class="st">'name'</span>], total_score) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To see which Pokemon had the highest score, I plotted the top 15 scores of each type on a horizontal bar chart, with the topmost being considered the best.</p>
<div id="19c14196" class="cell" data-execution_count="89">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the data and divide them for plotting</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>atker_sort <span class="op">=</span> <span class="bu">sorted</span>(atker, key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>atker_names, atk_scores <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>atker_sort[:<span class="dv">50</span>][::<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>defer_sort <span class="op">=</span> <span class="bu">sorted</span>(defer, key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>defer_names, def_scores <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>defer_sort[:<span class="dv">50</span>][::<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="co"># create the bar plots </span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">10</span>)) </span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>fig.suptitle(<span class="st">'Top 50 Pokemon Type Scores'</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].barh(atker_names, atk_scores, color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_title(<span class="st">'Attackers'</span>)</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].barh(defer_names, def_scores, color<span class="op">=</span><span class="st">'green'</span>)</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].set_title(<span class="st">'Defenders'</span>)</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="pokemon_analysis_files/figure-html/cell-24-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="4bf9fed0" class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> pd.Series([x[<span class="dv">1</span>] <span class="cf">for</span> x <span class="kw">in</span> atker])</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(a.unique())</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>a.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[20.5 23.  22.5 19.  20.  24.  21.  22.  21.5 23.5]</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="70">
<pre><code>count    1302.000000
mean       21.952381
std         1.320054
min        19.000000
25%        21.000000
50%        22.500000
75%        23.000000
max        24.000000
dtype: float64</code></pre>
</div>
</div>
<div id="c4812bef" class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> pd.Series([x[<span class="dv">1</span>] <span class="cf">for</span> x <span class="kw">in</span> defer])</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(d.unique())</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>d.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[19.82022472 21.         20.51162791 19.6        17.64       20.04545455
 21.51219512 20.75294118 22.05       21.25301205 15.75       19.17391304
 16.18348624 23.21052632 18.56842105 16.33333333 18.375      20.27586207
 16.96153846 18.18556701 22.61538462 18.96774194 21.77777778 17.46534653
 23.52       18.         16.64150943 26.72727273 23.83783784 27.13846154
 18.76595745 17.29411765 22.90909091 24.5        25.2        19.38461538
 25.56521739 15.20689655 17.81818182 16.8        16.03636364]</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="71">
<pre><code>count    1302.000000
mean       20.211193
std         1.848205
min        15.206897
25%        19.173913
50%        20.275862
75%        21.000000
max        27.138462
dtype: float64</code></pre>
</div>
</div>
<p>Simply observing, we can see that there is little no to no variation between the scores of the top 50 scoring attackers or defender, albeit defenders did have more variation. Looking at the attacker graph, the graph forms what almost is a straight line. The defenders, on the other hand, have a more diagonal line, but again, there’s not enough of a difference between any of the defenders to be able to point to a singular Pokemon that can be crowned as the best defender. As there is very little variation in the top scorers in either attacker or defender, it is reasonable to draw the conclusion that there is no real difference between any of the top scorers. The ones shown on the graph will be the ones most effective from a general type effectiveness perspective, though not omniscient, and will be good choices on any team. But, to reiterate, since there is no large or noticeable difference, there is no single Pokemon that will trump the rest as an attacker or a defender.</p>
</section>
<section id="based-on-base-stats" class="level3">
<h3 class="anchored" data-anchor-id="based-on-base-stats">Based on Base Stats</h3>
<p>When I think of analyzing a Pokémon based on its base stats, these are the approaches I think of: - Total Attack Power: Summing up the Attack stat, Special Attack stat, or both provides an overall measure of offensive capability. Pokémon with high combined Attack stats would excel in dealing damage, so that the opponent has less turns to act before they are killed. - Total Defense: Summing up the Defense stat and Special Defense stat gives you an idea of how well a Pokémon can withstand attacks. Pokémon with high combined Defense stats are sturdy and can endure hits effectively, lasting longer in battle. - Attack + Defense Balance: Calculating the sum between Attack and Defense (Attack + Defense) provides insight into offensive versus defensive tendencies. Some Pokémon have high Attack but low Defense, while others have the opposite. Having a balance of these two stats can show you how well rounded a Pokemon is, showing</p>
<div id="7a59663e" class="cell" data-execution_count="86">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the combined attack, defense, combined attack &amp; defense, and total stats for each Pokemon</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>cmb_atk_raw <span class="op">=</span> poke_df[<span class="st">'attack'</span>] <span class="op">+</span> poke_df[<span class="st">'special-attack'</span>]</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>cmb_atk <span class="op">=</span> <span class="bu">zip</span>(poke_df[<span class="st">'name'</span>], cmb_atk_raw)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>atk_stat <span class="op">=</span> <span class="bu">sorted</span>(cmb_atk, key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>atk_names, atk_vals <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>atk_stat[:<span class="dv">20</span>][::<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>cmb_def_raw <span class="op">=</span> poke_df[<span class="st">'defense'</span>] <span class="op">+</span> poke_df[<span class="st">'special-defense'</span>]</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>cmb_def <span class="op">=</span> <span class="bu">zip</span>(poke_df[<span class="st">'name'</span>], cmb_def_raw)</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>def_stat <span class="op">=</span> <span class="bu">sorted</span>(cmb_def, key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>def_names, def_vals <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>def_stat[:<span class="dv">20</span>][::<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>cmb_atkdef <span class="op">=</span> cmb_atk_raw <span class="op">+</span> cmb_def_raw</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>cmb_atkdef <span class="op">=</span> <span class="bu">zip</span>(poke_df[<span class="st">'name'</span>], cmb_atkdef)</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>cmb_stat <span class="op">=</span> <span class="bu">sorted</span>(cmb_atkdef, key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>cmb_names, cmb_vals <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>cmb_stat[:<span class="dv">20</span>][::<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a><span class="co"># create the bar plots </span></span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">5</span>)) </span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>fig.suptitle(<span class="st">'Top 20 Pokemon by Base Stats'</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].barh(atk_names, atk_vals, color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_title(<span class="st">'Attackers'</span>)</span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].barh(def_names, def_vals, color<span class="op">=</span><span class="st">'green'</span>)</span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].set_title(<span class="st">'Defenders'</span>)</span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">2</span>].barh(cmb_names, cmb_vals, color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">2</span>].set_title(<span class="st">'Attackers + Defenders'</span>)</span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-32"><a href="#cb39-32" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb39-33"><a href="#cb39-33" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="pokemon_analysis_files/figure-html/cell-27-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>On these graphs, the scores of each Pokemon entry is calculated on purely numerical instance. As explained prior to the graph, the scores are derived simply by adding the base stats of the particular stat, either attack and special attack or defense and special defense. On the attacker side, we can see that Deoxys-Attack trumps as the Pokemon with the highest combined attack and special attack base stats. But looking further down the graph, we can see Rayquaza-Mega in close second, virtually with the same score. The rest of the top 20 attackers are close on their heels as well, ranging from roughly 295 to 320. On the defender side, with a little more disparity, we see Eternatus-Eternamax leading the pack with a sizeable lead with a combined defense and special defense score of over 500. The Pokemon Shuckle comes in second with more of a difference between the first and second defenders than the top two attackers. The scores of the remaining top 20 defenders drops off steeply into a plateau of scores averaging at about 300. The graph to the far right depicts the Pokemon with the highest combined score of attack, special attack, defense, and special defense. In other words, it could be viewed as a depiction of the previous two graphs combined. Eternatus-Eternamax remains at the top, which make sense given it’s dominance over the defender category. The remainder of the top 20 trickles off slowly.</p>
</section>
<section id="combination-of-both-type-and-stats" class="level3">
<h3 class="anchored" data-anchor-id="combination-of-both-type-and-stats">Combination of Both Type and Stats</h3>
<p>The two previous graphs separated two key components of the way Pokemon fight. Both base stats and types determine damage multipliers of the different moves that Pokemon use in battle in order to eliminate the other trainer, but just as each is important, it would not do to not consider the other. Both are the same side of the coin, as both are damage multipliers. Thus, we need to construct a graph that would consider both components, or in other words, we need to combine the two previous graphs. Additionally, since we will be investigating a new relationship via this new graph, it is important to keep in mind that data may or may not be the same as in the previous graphs as new values will be calculated and added to the mix. Both type effectiveness and base stats are found to be multiplier of the damage that can be dealt, therefore it is viable to say that the product of the two multipliers is a fair value to be used to gauge the effectiveness of a Pokemon’s attack or defense stats in consideration to both of these variables. The graphs below display the top 20 scorers using the reasoning as mentioned.</p>
<div id="6f9a60f3" class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the attack, defense, and combined attack &amp; defense scores scaled with type</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>a_type_score <span class="op">=</span> []</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> pokemon, scale <span class="kw">in</span> atker:</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> pokemon2, score <span class="kw">in</span> <span class="bu">zip</span>(poke_df[<span class="st">'name'</span>], cmb_atk_raw):</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> pokemon <span class="op">==</span> pokemon2:</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>            a_type_score.append((pokemon, scale <span class="op">*</span> score))</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>d_type_score <span class="op">=</span> []</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> pokemon, scale <span class="kw">in</span> defer:</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> pokemon2, score <span class="kw">in</span> <span class="bu">zip</span>(poke_df[<span class="st">'name'</span>], cmb_def_raw):</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> pokemon <span class="op">==</span> pokemon2:</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>            d_type_score.append((pokemon, scale <span class="op">*</span> score))</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>c_type_score <span class="op">=</span> []</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> pokemon, score_a <span class="kw">in</span> a_type_score:</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> pokemon2, score_d <span class="kw">in</span> d_type_score:</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> pokemon <span class="op">==</span> pokemon2:</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>            c_type_score.append((pokemon, score_a <span class="op">+</span> score_d))</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a><span class="co"># sort the scores</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>a_type_score <span class="op">=</span> <span class="bu">sorted</span>(a_type_score, key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>d_type_score <span class="op">=</span> <span class="bu">sorted</span>(d_type_score, key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>c_type_score <span class="op">=</span> <span class="bu">sorted</span>(c_type_score, key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a><span class="co"># separate names and scores</span></span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>a_type_names, a_type_scores <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>a_type_score[:<span class="dv">20</span>][::<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>d_type_names, d_type_scores <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>d_type_score[:<span class="dv">20</span>][::<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a>c_type_names, c_type_scores <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>c_type_score[:<span class="dv">20</span>][::<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a><span class="co"># create the bar plots</span></span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a>fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">5</span>))</span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a>fig.suptitle(<span class="st">'Top 20 Pokemon by Type Scaled Score'</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-34"><a href="#cb40-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Bar plot of Attackers</span></span>
<span id="cb40-35"><a href="#cb40-35" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].barh(a_type_names, a_type_scores, color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb40-36"><a href="#cb40-36" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_title(<span class="st">'Attackers'</span>)</span>
<span id="cb40-37"><a href="#cb40-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-38"><a href="#cb40-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 2: Bar plot of Defenders</span></span>
<span id="cb40-39"><a href="#cb40-39" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].barh(d_type_names, d_type_scores, color<span class="op">=</span><span class="st">'green'</span>)</span>
<span id="cb40-40"><a href="#cb40-40" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].set_title(<span class="st">'Defenders'</span>)</span>
<span id="cb40-41"><a href="#cb40-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-42"><a href="#cb40-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 3: Bar plot of Combined Attackers &amp; Defenders</span></span>
<span id="cb40-43"><a href="#cb40-43" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">2</span>].barh(c_type_names, c_type_scores, color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb40-44"><a href="#cb40-44" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">2</span>].set_title(<span class="st">'Attackers + Defenders'</span>)</span>
<span id="cb40-45"><a href="#cb40-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-46"><a href="#cb40-46" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb40-47"><a href="#cb40-47" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb40-48"><a href="#cb40-48" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="pokemon_analysis_files/figure-html/cell-28-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>In comparison to the previous graphs, not much has changed in terms of shape. The top attacker graphs retains the regular shape, the top defender graph retains the 2 outliers, and the overall graph retains its singular outlier. That is not to say, however, that nothing has changed across the graphs. New Pokemon have changed the rankings of the top attacking and defending scoring Pokemon, however, there isn’t a significant difference in the graph in comparison to the pure base stats graph.</p>
</section>
</section>
<section id="discussion" class="level2">
<h2 class="anchored" data-anchor-id="discussion">Discussion</h2>
<p>Interestingly, if we look at the base stat graph above, not as many top defenders appear in the top 20 scorers in comparison to the top 20 attackers. It is also of note that the top defenders match the attackers in the top scores, save for the extreme outliers in the defense category. The top 20 defenders, not including the top 2 outliers, range from 290 to 330, while the top 20 attackers range from 340 to 295. It’s a decently even range between the two. However, as mentioned earlier, the top 20 attackers appear more frequently on the top 20 overall attack+defense than the top 20 defenders. In fact, only 5 of 20 top defenders appear in the top 20 overall, whereas 10 of the top 20 attackers are included in the top 20 overall scorers. This loosely implies 2 things: One, that the top defenders are more commonly specialized in just defense since they don’t appear in the top 20 overall scorers. Two, the contrapositive of the previous statement, that the top 20 attackers are more balanced than their top 20 defender counterparts. 10 out of 20 of the top 20 attackers appear in the top 20 overall, whereas only half of that, 5 out of 20 of the top 20 defenders appear in the top overall 20. This would imply that the top attackers more often have a sizeable defense stat to keep them in the overall top ranks whereas top defenders cannot say the same in reverse. However, as mentioned earlier, this is only loosely implied. This hypothesis was only drawn in analysis of the current displayed 20 units of data per category, and more specific data comparison, say between the ratio of attack and defense in the top attackers and defenders, would have to be conducted to be able to solidly say that top attackers are more balanced than top defenders.</p>
<p>In addition, I would like to point out my calculations for determining type score is a bit wonky, because in hindsight it would have been easier to determine the effectiveness of types by finding the average, because average a more proportional operation compared to just simply adding. For that reason, I believe that is why the results based just off of type score had such a small range and had little to none variation. For further analysis I would probably choose to do it with an average if I were to use the metric of score typing again.</p>
<p>I would also like to highlight the skewness and the distribution have multiple peaks. In the data there are definitely multiple groups, as not only were there normal Pokemon, there were also legendary Pokemon, which are intentionally made by the Pokemon company to be stronger due to story reason, but there are also a type of Pokemon I like to call gimmicks (because its basically the same thing under different names) which are also made strong <em>due to the power of friendship</em>. For that reason I would think that to make the analysis better in the future, it would be best to separate the groups from the normal set of Pokemon and conduct an analysis on those separately.</p>
<section id="conclusion" class="level3">
<h3 class="anchored" data-anchor-id="conclusion">Conclusion</h3>
<p>To answer the initial questions that I started, according to the data, there is not outstanding type matchup for Pokemon. In terms of stats, Eternatus-Eternamax seems to be the strongest in both pure stats and with the type score modifier for both overall and defensive, but in terms of pure total attack power, Rayquaza-Mega comes out on top. The lack of an outstanding type matchup for Pokemon makes sense in this data analysis because it would cause gameplay to become unbalanced. Say, for example, your favorite MMORPG game had an overpowered weapon that was capable of destroying everything and anything. All the players would flock to using that weapon and discard all other available weapons in favor for it. The same applies here. The Pokemon franchise prides itself upon its variety of different Pokemon and type-matchup dependent battles. To allow for one type to have a clear advantage would be akin to destroying the mechanics of the game. However, you may find yourself wondering why some Pokemon are so much better than others at all. This is because the Pokemon with higher stats are often legendary or mythical Pokemon, or locked behind some form of story in the game. These Pokemon <em>are</em> the challenge to the player or one of the final bosses, and are thus made intentionally difficult to fight, thus still preserving the reasoning from before.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/62db5cd7-f007-460c-a919-1704ac1d6fd4/dfe39bn-8dde0707-b621-4976-8ad3-eaa75ce8a6c7.png/v1/fill/w_1048,h_763/eternamax_eternatus_by_mrlarions_dfe39bn-pre.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzYyZGI1Y2Q3LWYwMDctNDYwYy1hOTE5LTE3MDRhYzFkNmZkNFwvZGZlMzlibi04ZGRlMDcwNy1iNjIxLTQ5NzYtOGFkMy1lYWE3NWNlOGE2YzcucG5nIiwiaGVpZ2h0IjoiPD0xMzk4Iiwid2lkdGgiOiI8PTE5MjAifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6aW1hZ2Uud2F0ZXJtYXJrIl0sIndtayI6eyJwYXRoIjoiXC93bVwvNjJkYjVjZDctZjAwNy00NjBjLWE5MTktMTcwNGFjMWQ2ZmQ0XC9tcmxhcmlvbnMtNC5wbmciLCJvcGFjaXR5Ijo5NSwicHJvcG9ydGlvbnMiOjAuNDUsImdyYXZpdHkiOiJjZW50ZXIifX0.5lCejiHpkWnXlwPJMOPE7CWfGC3u2yvUkuhviWITNo4" class="img-fluid figure-img"></p>
<figcaption>Eternatus-Eternamax</figcaption>
</figure>
</div>
</section>
<section id="limitations" class="level3">
<h3 class="anchored" data-anchor-id="limitations">Limitations</h3>
<p>There are, however, limitations to the comparisons made in this data. Even with set stats, there are many varying factors that all contribute in deciding the victor in a Pokemon battle. It’s near impossible to conclude the winner of a battle just from conclusions driven from hard numerical data, as for example, Pokemon may learn moves of a different type than the Pokemon’s base type, or the level of the Pokemon can boost its stats to that of a level where it can win against a different Pokemon it would normally be at a disadvantage against. Even as we’re talking about predetermined stats, there are abilities or items that Pokemon have that can drastically alter it’s abilities or stats unexpectedly. Professional pokemon players have pulled off huge upstart wins with strategies utilizing these miscellaneous abilities and gimmicks, so it’s not to say this data is the end all be all.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/raeTruong\.github\.io\/DH140-Final-Project-Blog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>